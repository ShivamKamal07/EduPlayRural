{% extends 'shared/base.html' %}
{% block title %}Progress{% endblock %}

{% block content %}
<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0"><i class="fas fa-chart-line"></i> Your Progress</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
          <li class="breadcrumb-item active">Progress</li>
        </ol>
      </div>
    </div>
  </div>
</div>

<section class="content">
  <div class="container-fluid">
    <div class="row">
      {% for subj, percent in progress.items %}
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card card-outline card-info shadow-sm progress-card">
          <div class="card-header">
            <h3 class="card-title"><i class="fas fa-book-open progress-icon"></i> {{ subj }}</h3>
          </div>
          <div class="card-body">
            <p><b>Completed:</b> {{ percent }}%</p>
            <div class="progress progress-sm">
              <div class="progress-bar bg-success progress-fill" role="progressbar" 
                   style="width: 0%" data-percent="{{ percent }}">
                0%
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
/* Card hover */
.progress-card {
  transition: transform 0.4s ease, box-shadow 0.4s ease, background 0.4s ease;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
}
.progress-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0,123,255,0.3);
  background: linear-gradient(135deg, #17a2b8, #00c6ff);
  color: #fff;
}

/* Card text and icon hover */
.progress-card:hover h3,
.progress-card:hover p {
  color: #fff !important;
}
.progress-card:hover .progress-icon {
  transform: scale(1.3) rotate(5deg);
  color: #ffc107;
}

/* Icon style */
.progress-icon {
  color: #17a2b8;
  margin-right: 6px;
  transition: transform 0.4s ease, color 0.4s ease;
}

/* Progress bar animation */
.progress-bar {
  transition: width 1s ease-in-out;
  font-weight: bold;
  color: #fff;
  text-align: center;
}

/* Optional: smooth progress fill on page load */
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const bars = document.querySelectorAll('.progress-fill');
  bars.forEach(bar => {
    const percent = bar.getAttribute('data-percent');
    setTimeout(() => {
      bar.style.width = percent + '%';
      bar.textContent = percent + '%';
    }, 200);
  });
});
</script>
{% endblock %}
